# ============================================
# NIXELO ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env.local and fill in your values
#
# This file covers both Convex backend and Vercel/Vite frontend
# Bot service has its own .env in /bot-service/.env.example
#
# Legend:
#   [REQUIRED] - App won't work without this
#   [OPTIONAL] - Feature-specific, app works without it

# ============================================
# CONVEX CONFIGURATION [REQUIRED]
# ============================================
# Automatically set when you run `npx convex dev`
CONVEX_DEPLOYMENT=

# URL for the Convex backend (auto-generated)
VITE_CONVEX_URL=

# Deployment Key - only needed for Vercel Preview/Production
# Get from: Convex Dashboard → Settings → Deploy Keys
CONVEX_DEPLOY_KEY=

# ============================================
# APP URL [REQUIRED]
# ============================================
# Primary app URL used for:
# - OAuth callbacks and authentication
# - Invite links and email links
# - Webhook callbacks
# In production, set to your domain (e.g., https://app.nixelo.com)
SITE_URL=http://localhost:5555

# ============================================
# GOOGLE OAUTH [OPTIONAL]
# ============================================
# Single Google OAuth client used for:
# - "Sign in with Google" (Convex Auth)
# - Google Calendar sync
#
# Get from: https://console.cloud.google.com/apis/credentials
#
# Setup:
# 1. Create OAuth 2.0 Client ID (Web application)
# 2. Add authorized redirect URIs:
#    - http://localhost:5555 (dev)
#    - https://yourdomain.com (prod)
# 3. Enable APIs: Google Calendar API
#
# Note: Same credentials work for both sign-in and calendar
AUTH_GOOGLE_ID=
AUTH_GOOGLE_SECRET=

# ============================================
# AI - ANTHROPIC CLAUDE [OPTIONAL]
# ============================================
# Required for AI chat, suggestions, and meeting summaries
# Get from: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=

# Optional: Override default model (claude-opus-4-5)
# Options: claude-opus-4-5, claude-haiku-4-5
# ANTHROPIC_MODEL=claude-opus-4-5

# ============================================
# AI - VOYAGE EMBEDDINGS [OPTIONAL]
# ============================================
# Required for semantic search / vector embeddings
# Get from: https://dash.voyageai.com/api-keys
# (Recommended by Anthropic for Claude-compatible embeddings)
VOYAGE_API_KEY=

# ============================================
# EMAIL PROVIDERS [REQUIRED]
# ============================================
# All providers are required - system will fail at runtime if any are missing
# System automatically rotates to provider with free capacity remaining
# Both daily AND monthly limits are tracked to prevent hitting provider limits
# Total free capacity: 19,000 emails/month
#
# Used for: OTP verification, password reset, notifications, digests

# 1. SendPulse (12,000/month, 400/day - highest capacity)
# Get from: https://sendpulse.com/ → Settings → API
SENDPULSE_ID=
SENDPULSE_SECRET=
SENDPULSE_FROM_EMAIL="Nixelo <notifications@yourdomain.com>"

# 2. Mailtrap (4,000/month, 150/day)
# Supports two modes:
#   - sandbox: Emails go to Mailtrap inbox (for dev/E2E testing)
#   - production: Emails delivered to real recipients
# Get from: https://mailtrap.io/ → Email Sending → Sending Domains → API
MAILTRAP_MODE=sandbox
MAILTRAP_API_TOKEN=
MAILTRAP_INBOX_ID=
MAILTRAP_FROM_EMAIL="Nixelo <notifications@yourdomain.com>"

# 3. Resend (3,000/month, 100/day)
# Get from: https://resend.com/api-keys
RESEND_API_KEY=
RESEND_FROM_EMAIL="Nixelo <notifications@yourdomain.com>"

# NOTE: SendGrid and Mailgun removed - free tiers require credit card

# ============================================
# MEETING BOT SERVICE [OPTIONAL]
# ============================================
# Required for automatic meeting recording/transcription
# See /bot-service/.env.example for bot service config
BOT_SERVICE_URL=http://localhost:4444
BOT_SERVICE_API_KEY=

# ============================================
# ANALYTICS [OPTIONAL]
# ============================================
# PostHog - Product analytics & session replay
# Get from: https://posthog.com/
VITE_PUBLIC_POSTHOG_KEY=
VITE_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com

# ============================================
# AUTHENTICATION KEYS [AUTO-GENERATED]
# ============================================
# These are created automatically by: npx @convex-dev/auth
# Do NOT copy these between environments - generate fresh keys for each
#
# For new setup, run: npx @convex-dev/auth
#
# For manual key generation (if needed):
#   1. Generate RSA key pair with Node.js crypto
#   2. Set via stdin (multiline values):
#      cat jwt_private_key.pem | npx convex env set JWT_PRIVATE_KEY
#      cat jwks.json | npx convex env set JWKS
#
# JWT_PRIVATE_KEY=<RSA private key in PKCS8 PEM format>
# JWKS=<JSON Web Key Set with public key>

# ============================================
# E2E TESTING - MAILTRAP INBOX READING [OPTIONAL]
# ============================================
# Additional Mailtrap config for E2E tests to READ emails from inbox
# (MAILTRAP_API_TOKEN and MAILTRAP_INBOX_ID already set above for sending)
#
# Get Account ID from URL: mailtrap.io/accounts/XXXX/inboxes/...
MAILTRAP_ACCOUNT_ID=

# ============================================
# DEVELOPMENT / CI [AUTO]
# ============================================
# These are typically set automatically
# NODE_ENV=development
# CI=false
